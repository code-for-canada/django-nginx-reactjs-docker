#Travis Configs File

language: python

services:
  - docker
  - postgresql

before_install:
  - psql -c 'create database travis_ci_test;' -U postgres

install:
  - docker-compose build

postgres:
  adapter: postgresql
  database: myapp_test
  username: postgres
before_script:
  - "psql -c 'create database myapp_test;' -U postgres"
  - "rake db:migrate"

script:
  - docker-compose run --rm backend ./manage.py test backend/tests/
